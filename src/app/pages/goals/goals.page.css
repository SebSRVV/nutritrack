/* =========================
   Midnight Slate â€” Pro Theme (Goals)
   ========================= */
:root{
  --bg:#0b0f14; --surface:#0e141c; --card:#111a27; --card-2:#0f1724;
  --text:#e7edf5; --muted:#9aa7b6; --hair:rgba(255,255,255,.06);
  --primary:#5b8cff; --primary-700:#3d6bf5; --primary-400:#7aa2ff;
  --ok:#22c55e; --ok-700:#16a34a; --danger:#ef4444;
  --ring:rgba(91,140,255,.35); --ring-strong:rgba(91,140,255,.55);
  --shadow:0 20px 60px rgba(0,0,0,.35), 0 2px 10px rgba(0,0,0,.25);
  --shadow-soft:0 8px 28px rgba(0,0,0,.28);
}

*{ box-sizing:border-box; }
html,body{ height:100%; overflow:hidden; }
body{
  background:
    radial-gradient(1000px 700px at 10% -10%, rgba(91,140,255,.08), transparent 60%),
    radial-gradient(900px 600px at 120% -30%, rgba(34,197,94,.06), transparent 60%),
    var(--bg);
  color:var(--text);
  font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  letter-spacing:.2px;
}

/* ===== Layout sin scroll ===== */
.page{
  height:100%;
  display:grid;
  grid-template-rows:auto 1fr;
}

/* ===== Topbar ===== */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 20px;
  background:linear-gradient(180deg, rgba(17,26,39,.85), rgba(17,26,39,.65));
  backdrop-filter:saturate(120%) blur(10px);
  border-bottom:1px solid var(--hair);
}
.topbar .left h1{ margin:0; font-size:22px; font-weight:800; }
.topbar .left .muted{ margin:2px 0 0; color:var(--muted); font-size:12px; }
.topbar .actions{ display:flex; gap:10px; align-items:center; }

/* Search + Filter */
.search{ position:relative; }
.search input{
  background: var(--surface); color: var(--text);
  border:1px solid var(--hair); padding:10px 36px 10px 12px; border-radius:12px; outline:none;
  transition: box-shadow .2s, border-color .2s, transform .06s ease;
}
.search input:focus{ border-color: var(--primary-400); box-shadow:0 0 0 6px var(--ring); transform: translateY(-1px); }
.search .kbd{
  position:absolute; right:8px; top:50%; transform:translateY(-50%);
  font-size:11px; color:var(--muted); border:1px solid var(--hair); padding:2px 6px; border-radius:6px; background:#0b1220;
}
.filter{
  background: var(--surface); color: var(--text); border:1px solid var(--hair);
  padding:10px 12px; border-radius:12px; outline:none;
}
.filter:focus{ box-shadow:0 0 0 6px var(--ring); border-color: var(--primary-400); }

/* Botones */
.btn{
  border:1px solid var(--hair); background: var(--surface); color: var(--text);
  padding:10px 14px; border-radius:12px; cursor:pointer;
  transition: transform .08s ease, background .2s, box-shadow .2s, border-color .2s;
}
.btn:hover{ transform: translateY(-1px); background:#0c1421; }
.btn.primary{ background:linear-gradient(180deg,var(--primary),var(--primary-700)); color:#fff; border-color:transparent; box-shadow:0 8px 24px rgba(91,140,255,.25); }
.btn.ghost{ background: transparent; border-color: var(--hair); }
.btn.danger{ background: linear-gradient(180deg,#f87171,#ef4444); color:#fff; border-color:transparent; }
.btn[disabled]{ opacity:.6; cursor:not-allowed; }

/* Contenido */
.content{
  height:100%; padding:16px 20px 20px;
  display:grid; grid-template-rows:auto 1fr; gap:14px; overflow:hidden;
}
.loading{ color:var(--muted); padding:20px; font-weight:500; }
.container{ width:min(1400px, 100%); margin-inline:auto; height:100%; display:grid; grid-template-rows:auto 1fr; }
.scroll-area{ overflow:auto; padding-right:4px; scrollbar-width:thin; }

/* Secciones y grid */
.grid{ display:grid; grid-template-columns: repeat(12, minmax(0,1fr)); gap:16px; align-content:start; }
.section-title{ grid-column:1/-1; display:flex; align-items:center; justify-content:space-between; margin:4px 0 6px; color:var(--muted); font-weight:700; }

/* Cards */
.card{
  grid-column: span 12;
  background: linear-gradient(180deg, #101a2b, #0d1522);
  border:1px solid rgba(123,167,255,.14);
  border-radius:14px; padding:14px; box-shadow: var(--shadow-soft);
  transition: transform .15s ease, box-shadow .2s, border-color .2s;
  position:relative; cursor:default;
}
.card.clickable{ cursor:pointer; }
.card:hover{ transform: translateY(-2px); box-shadow: var(--shadow); border-color: rgba(123,167,255,.24); }
@media (min-width:640px){ .card{ grid-column: span 6; } }
@media (min-width:1024px){ .card{ grid-column: span 4; } }
@media (min-width:1440px){ .card{ grid-column: span 3; } }

.card-head{ display:flex; flex-direction:column; gap:6px; }
.title-wrap{ display:flex; align-items:center; gap:10px; }
h3{ margin:0; font-size:17px; font-weight:800; }
h3.inactive{ color:#7f8a99; text-decoration: line-through; }
.desc{ margin:0; color:var(--muted); }

/* Badge */
.badge{
  border-radius:999px; padding:4px 10px; font-size:12px; font-weight:700;
  background: rgba(91,140,255,.14); color:#a8c3ff; border:1px solid rgba(91,140,255,.35);
}
.badge-inactive{ background: rgba(148,163,184,.12); color:#c9d3df; border-color: rgba(148,163,184,.32); }

/* Switch pill */
.switch{
  --on:#28d27a; --off:#6b7483;
  display:inline-flex; align-items:center; gap:8px; padding:4px 10px;
  border-radius:999px; border:1px solid var(--hair); background:#0c1421;
  font-size:12px; font-weight:700; color:var(--muted);
}
.switch[aria-checked="true"]{ color:#b7ffdb; border-color: rgba(40,210,122,.35); }
.switch .dot{ width:16px; height:16px; border-radius:999px; background:var(--off); transition: transform .2s, background .2s; }
.switch[aria-checked="true"] .dot{ background:var(--on); }

/* Progreso */
.progress{ margin-top:10px; }
.progress .bar{ height:10px; background:#0b1220; border:1px solid var(--hair); border-radius:999px; overflow:hidden; }
.progress .bar-fill{
  height:100%; width:0%;
  background: linear-gradient(90deg, #6ea4ff 0%, #7dd3fc 55%, #22c55e 100%);
  transition: width .7s cubic-bezier(.2,.8,.2,1);
}
.progress-label{ display:flex; gap:8px; align-items:baseline; margin-top:6px; color:var(--muted); }
.progress-label strong{ color:var(--text); }

/* Semana / ticks */
.week{ display:grid; grid-template-columns: repeat(7,1fr); gap:12px; margin-top:12px; }
.day{ display:grid; gap:8px; justify-items:center; }
.day-label{ font-size:12px; color:var(--muted); }

.tick{
  width:38px; height:38px; border-radius:12px; border:1px solid var(--hair);
  background: radial-gradient(120% 120% at 50% -20%, rgba(123,167,255,.12), transparent 40%), #0b1220;
  display:grid; place-items:center; cursor:pointer;
  transition: transform .12s, box-shadow .2s, border-color .2s, background .2s;
}
.tick:hover{ transform: translateY(-2px); box-shadow:0 10px 22px var(--ring); border-color: rgba(123,167,255,.35); }
.tick.on{ background: radial-gradient(140% 140% at 50% -20%, rgba(34,197,94,.22), transparent 45%), #0e171f; border-color: var(--ok-700); box-shadow: 0 8px 20px rgba(34,197,94,.18); }
.tick .dot{ width:14px; height:14px; border-radius:50%; background:transparent; border:2px solid #3b4657; transition: transform .2s, background .2s, border-color .2s; }
.tick.on .dot{ background: var(--ok); border-color: var(--ok); transform: scale(1.08); }

/* Acciones */
.card-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:12px; }
.btn.ghost:hover{ border-color: rgba(123,167,255,.22); background: rgba(123,167,255,.05); }

/* Empty */
.empty{ text-align:center; color:var(--muted); margin-top:40px; }
.empty img{ width:220px; opacity:.95; filter: drop-shadow(0 10px 30px rgba(0,0,0,.35)); }
.empty h3{ color:var(--text); margin:14px 0 6px; }

/* Sheet (crear/editar) */
.sheet-backdrop{ position:fixed; inset:0; background: rgba(3,6,12,.55); backdrop-filter: blur(2px); animation: fadeIn .25s ease forwards; }
.sheet{
  position:fixed; left:50%; transform: translateX(-50%); bottom:0; width:min(720px,96%);
  background: linear-gradient(180deg, #0f1724, #0c1421); border:1px solid var(--hair);
  border-top-left-radius:16px; border-top-right-radius:16px; box-shadow: var(--shadow);
}
.sheet-header{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--hair); }
.sheet-header h3{ margin:0; font-size:18px; font-weight:800; }
.sheet-header .icon{ border:none; background:transparent; color:var(--muted); font-size:18px; cursor:pointer; }
.sheet-body{ padding:14px 16px; display:grid; gap:12px; }
.field{ display:grid; gap:8px; }
.field span{ font-size:13px; color:var(--muted); }
.field input, .field textarea{
  background:#0b1220; color:var(--text); border:1px solid var(--hair);
  padding:10px 12px; border-radius:10px; outline:none; transition: box-shadow .2s, border-color .2s;
}
.field input:focus, .field textarea:focus{ border-color: var(--primary-400); box-shadow:0 0 0 6px var(--ring); }
.field small{ color:var(--muted); }
.sheet-footer{ display:flex; justify-content:flex-end; gap:8px; padding:12px 16px; border-top:1px solid var(--hair); }

/* Animaciones */
.fade-in{ animation: fadeIn .3s ease both; }
.slide-down{ animation: slideDown .35s cubic-bezier(.2,.8,.2,1) both; }
.slide-up{ animation: slideUp .35s cubic-bezier(.2,.8,.2,1) both; }
.pulse{ animation: pulse 2.2s ease-in-out infinite; }
@keyframes fadeIn{ from{opacity:0;} to{opacity:1;} }
@keyframes slideDown{ from{ transform: translateY(-12px); opacity:0; } to{ transform:none; opacity:1; } }
@keyframes slideUp{ from{ transform: translateY(24px); opacity:0; } to{ transform:none; opacity:1; } }
@keyframes pulse{ 0%,100%{ box-shadow:0 0 0 0 rgba(91,140,255,0);} 50%{ box-shadow:0 0 0 6px var(--ring-strong);} }
